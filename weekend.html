<!doctype html><html><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Sports Edge — Weekend Report</title>
<style>
 body{margin:0;background:#0b0b0e;color:#e5e7eb;font:14px system-ui}
 header{position:sticky;top:0;background:#0b0b0e;border-bottom:1px solid #222;padding:12px 16px;display:flex;gap:10px;align-items:center}
 h1{font-size:18px;margin:0;font-weight:700}
 .grid{display:grid;gap:12px;padding:16px}
 .card{background:#0f1115;border:1px solid #1f2430;border-radius:12px;padding:12px}
 table{width:100%;border-collapse:collapse} th,td{padding:6px 8px;border-bottom:1px solid #1f2430;text-align:left;white-space:nowrap}
 th{color:#93a3b8;font-weight:600;font-size:12px;text-transform:uppercase}
 .muted{color:#9aa7bd}
 @media print { header{position:static} body{background:#fff;color:#000} .card{border-color:#ddd} }
</style>
</head><body>
<header>
  <h1>Weekend Report</h1>
  <label class="muted">Week:</label>
  <input id="wk" type="number" min="1" max="30" value="9" style="background:#0f1115;color:#e5e7eb;border:1px solid #1f2430;border-radius:8px;padding:6px 10px;width:90px"/>
  <button id="print" style="background:#3b82f6;border:1px solid #2563eb;border-radius:8px;color:#fff;padding:6px 10px;cursor:pointer">Print / PDF</button>
  <a href="/reports" style="color:#9aa7bd;margin-left:auto">Reports</a>
</header>
<div class="grid">
  <div class="card">
    <h3>NFL — Week <span id="nw"></span></h3>
    <table><thead><tr><th>Game</th><th>Type</th><th>Side</th><th>Line</th><th>Odds</th><th>Band</th></tr></thead><tbody id="nfl"></tbody></table>
  </div>
  <div class="card">
    <h3>MLB — Series <span id="mw"></span></h3>
    <table><thead><tr><th>Matchup</th><th>Type</th><th>Side</th><th>Line</th><th>Odds</th><th>Band</th></tr></thead><tbody id="mlb"></tbody></table>
  </div>
</div>
<script>
const $=s=>document.querySelector(s);
const wk=$("#wk"), nfl=$("#nfl"), mlb=$("#mlb"), nw=$("#nw"), mw=$("#mw");
const load=async()=>{
  const w=Number(wk.value||1); nw.textContent=w; mw.textContent=w;
  nfl.innerHTML=''; mlb.innerHTML='';
  const fetchJson=async(p)=>{try{const r=await fetch(p,{cache:'no-store'}); return r.ok? r.json():null;}catch(e){return null}};
  const N=await fetchJson(`/data/nfl/week-${String(w).padStart(2,'0')}.json`);
  const M=await fetchJson(`/data/mlb/week-${String(w).padStart(2,'0')}.json`);
  for(const s of (N?.picks||[])){ const line = s.type==='ATS'? (s.spread??'') : s.type==='OU'? (s.total??'') : ''; nfl.innerHTML+=`<tr><td>${s.away||''} @ ${s.home||''}</td><td>${s.type||''}</td><td>${s.side||''}</td><td>${line}</td><td>${s.price??''}</td><td>${(s.color||'').toUpperCase()}</td></tr>`; }
  for(const s of (M?.picks||[])){ const line = s.type==='ATS'? (s.spread??'') : s.type==='OU'? (s.total??'') : ''; mlb.innerHTML+=`<tr><td>${s.away||''} @ ${s.home||''}</td><td>${s.type||''}</td><td>${s.side||''}</td><td>${line}</td><td>${s.price??''}</td><td>${(s.color||'').toUpperCase()}</td></tr>`; }
};
wk.addEventListener('change',load);
document.getElementById('print').addEventListener('click',()=>window.print());
load();
</script>
</body></html>
